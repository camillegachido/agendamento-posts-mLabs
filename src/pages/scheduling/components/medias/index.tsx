import React, { useState, useEffect } from 'react'
import { EMedias, IPost } from '../../../../common/interfaces'

import * as G from '../../styles'
import * as S from './styles'

export function Medias(): JSX.Element {
   const [medias, setMedias] = useState<EMedias[]>([])
   const [post, setPost] = useState<IPost>({ socialMedias: [] })

   const handleMedia = (media: EMedias) => () => {
      const mediaInd = medias.findIndex((s) => s === media)
      if (mediaInd > -1) {
         const newMedia = [...medias]
         newMedia.splice(mediaInd, 1)
         setMedias(newMedia)
      } else {
         setMedias([...medias, media])
      }
   }

   useEffect(() => {
      setPost({ ...post, socialMedias: medias })
   }, [medias, post])

   return (
      <G.Modal gridArea="social">
         <header>
            <h1>Redes sociais</h1>
         </header>
         <main className="container-button">
            <S.Button
               selected={medias.findIndex((s) => s === EMedias.instagram) > -1}
               onClick={handleMedia(EMedias.instagram)}
            >
               <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path d="M8.00179 3.8978C5.73162 3.8978 3.9005 5.72933 3.9005 8C3.9005 10.2707 5.73162 12.1022 8.00179 12.1022C10.2719 12.1022 12.1031 10.2707 12.1031 8C12.1031 5.72933 10.2719 3.8978 8.00179 3.8978ZM8.00179 10.667C6.53475 10.667 5.33542 9.47094 5.33542 8C5.33542 6.52906 6.53118 5.33304 8.00179 5.33304C9.47239 5.33304 10.6682 6.52906 10.6682 8C10.6682 9.47094 9.46882 10.667 8.00179 10.667ZM13.2274 3.73C13.2274 4.26197 12.7991 4.68682 12.2708 4.68682C11.739 4.68682 11.3142 4.2584 11.3142 3.73C11.3142 3.20161 11.7426 2.77318 12.2708 2.77318C12.7991 2.77318 13.2274 3.20161 13.2274 3.73ZM15.9438 4.7011C15.8831 3.41939 15.5904 2.28406 14.6516 1.34866C13.7165 0.413254 12.5814 0.120495 11.2999 0.0562312C9.97925 -0.0187437 6.02075 -0.0187437 4.70006 0.0562312C3.4222 0.116925 2.28712 0.409684 1.34835 1.34509C0.409593 2.28049 0.120468 3.41582 0.0562186 4.69753C-0.0187395 6.01852 -0.0187395 9.97791 0.0562186 11.2989C0.116899 12.5806 0.409593 13.7159 1.34835 14.6513C2.28712 15.5867 3.41863 15.8795 4.70006 15.9438C6.02075 16.0187 9.97925 16.0187 11.2999 15.9438C12.5814 15.8831 13.7165 15.5903 14.6516 14.6513C15.5868 13.7159 15.8795 12.5806 15.9438 11.2989C16.0187 9.97791 16.0187 6.02209 15.9438 4.7011ZM14.2376 12.7163C13.9592 13.416 13.4202 13.9551 12.717 14.2372C11.664 14.6549 9.16542 14.5585 8.00179 14.5585C6.83815 14.5585 4.33597 14.6513 3.28656 14.2372C2.58695 13.9587 2.04796 13.4196 1.76598 12.7163C1.34835 11.6631 1.44473 9.1639 1.44473 8C1.44473 6.8361 1.35192 4.33337 1.76598 3.28372C2.04439 2.58396 2.58338 2.04485 3.28656 1.7628C4.33954 1.34509 6.83815 1.44148 8.00179 1.44148C9.16542 1.44148 11.6676 1.34866 12.717 1.7628C13.4166 2.04128 13.9556 2.58039 14.2376 3.28372C14.6552 4.33694 14.5588 6.8361 14.5588 8C14.5588 9.1639 14.6552 11.6666 14.2376 12.7163Z" />
               </svg>
            </S.Button>
            <S.Button
               selected={medias.findIndex((s) => s === EMedias.linkedin) > -1}
               onClick={handleMedia(EMedias.linkedin)}
            >
               <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path d="M3.58143 15.3996H0.264286V5.11809H3.58143V15.3996ZM1.92107 3.71559C0.860357 3.71559 0 2.86997 0 1.84903C7.59214e-09 1.35864 0.202398 0.888329 0.562669 0.541568C0.92294 0.194808 1.41157 0 1.92107 0C2.43057 0 2.9192 0.194808 3.27947 0.541568C3.63974 0.888329 3.84214 1.35864 3.84214 1.84903C3.84214 2.86997 2.98143 3.71559 1.92107 3.71559ZM15.9964 15.3996H12.6864V10.3946C12.6864 9.20184 12.6614 7.67215 10.9618 7.67215C9.23714 7.67215 8.97286 8.96809 8.97286 10.3087V15.3996H5.65929V5.11809H8.84071V6.52059H8.88714C9.33 5.71278 10.4118 4.86028 12.0257 4.86028C15.3829 4.86028 16 6.98809 16 9.75184V15.3996H15.9964Z" />
               </svg>
            </S.Button>
            <S.Button disabled onClick={handleMedia(EMedias.facebook)}>
               <svg
                  width="16"
                  height="18"
                  viewBox="0 0 16 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path d="M15.2682 4.23011C15.0937 3.42386 14.5797 2.78888 13.927 2.57339C12.7439 2.18182 8 2.18182 8 2.18182C8 2.18182 3.2561 2.18182 2.07302 2.57339C1.42032 2.78891 0.906268 3.42386 0.731795 4.23011C0.414795 5.69148 0.414795 8.74051 0.414795 8.74051C0.414795 8.74051 0.414795 11.7895 0.731795 13.2509C0.906268 14.0572 1.42032 14.6657 2.07302 14.8812C3.2561 15.2727 8 15.2727 8 15.2727C8 15.2727 12.7439 15.2727 13.927 14.8812C14.5797 14.6657 15.0937 14.0572 15.2682 13.2509C15.5852 11.7895 15.5852 8.74051 15.5852 8.74051C15.5852 8.74051 15.5852 5.69148 15.2682 4.23011ZM6.44847 11.5088V5.97222L10.4134 8.74057L6.44847 11.5088Z" />
               </svg>
            </S.Button>
            <S.Button disabled>
               <svg
                  width="16"
                  height="18"
                  viewBox="0 0 16 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <g clipPath="url(#clip0_5330_695)">
                     <path d="M16 8.72728C16 13.3977 12.4194 17.1818 8 17.1818C7.17419 17.1818 6.38065 17.0489 5.63226 16.8034C5.95806 16.2409 6.44516 15.3205 6.62581 14.5875C6.72258 14.1921 7.12258 12.5761 7.12258 12.5761C7.38387 13.1011 8.14516 13.5477 8.95484 13.5477C11.3677 13.5477 13.1065 11.2023 13.1065 8.28751C13.1065 5.49546 10.9484 3.40569 8.17419 3.40569C4.72258 3.40569 2.8871 5.85342 2.8871 8.52273C2.8871 9.76364 3.5129 11.308 4.50968 11.7989C4.66129 11.8739 4.74194 11.8398 4.77742 11.6864C4.80323 11.5705 4.93871 10.9943 5 10.7284C5.01935 10.6432 5.00968 10.5682 4.94516 10.4864C4.61935 10.0602 4.35484 9.28296 4.35484 8.55683C4.35484 6.69205 5.69032 4.88864 7.96774 4.88864C9.93226 4.88864 11.3097 6.30342 11.3097 8.32842C11.3097 10.6159 10.2161 12.2011 8.79355 12.2011C8.00968 12.2011 7.41935 11.5159 7.60968 10.6739C7.83548 9.66819 8.27097 8.5841 8.27097 7.85796C8.27097 7.21024 7.94194 6.66819 7.25806 6.66819C6.45484 6.66819 5.80968 7.54433 5.80968 8.72046C5.80968 9.47046 6.04839 9.97501 6.04839 9.97501C6.04839 9.97501 5.25806 13.5136 5.1129 14.175C4.95161 14.9046 5.01613 15.9341 5.08387 16.6023C2.10968 15.3716 0 12.3102 0 8.72728C0 4.05683 3.58065 0.272736 8 0.272736C12.4194 0.272736 16 4.05683 16 8.72728Z" />
                  </g>
                  <defs>
                     <clipPath id="clip0_5330_695">
                        <rect width="16" height="17.4545" fill="white" />
                     </clipPath>
                  </defs>
               </svg>
            </S.Button>
            <S.Button disabled>
               <svg
                  width="16"
                  height="18"
                  viewBox="0 0 16 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path d="M14.3553 5.17214C14.3655 5.32718 14.3655 5.48226 14.3655 5.63731C14.3655 10.3664 11.066 15.8154 5.03553 15.8154C3.17766 15.8154 1.45178 15.2284 0 14.2095C0.263969 14.2427 0.51775 14.2538 0.791875 14.2538C2.32484 14.2538 3.73603 13.689 4.86294 12.7255C3.42131 12.6922 2.21319 11.6622 1.79694 10.2446C2 10.2778 2.20303 10.3 2.41625 10.3C2.71066 10.3 3.00509 10.2556 3.27919 10.1781C1.77666 9.84587 0.649719 8.4061 0.649719 6.6673V6.62301C1.08625 6.88882 1.59391 7.05494 2.13194 7.07707C1.24869 6.43469 0.670031 5.33826 0.670031 4.09783C0.670031 3.43333 0.832438 2.82419 1.11672 2.29258C2.73094 4.46332 5.15734 5.88092 7.87813 6.036C7.82738 5.7702 7.79691 5.49334 7.79691 5.21646C7.79691 3.24505 9.25884 1.63916 11.0761 1.63916C12.0203 1.63916 12.873 2.07109 13.472 2.76883C14.2131 2.61379 14.9238 2.31474 15.5533 1.90497C15.3096 2.73563 14.7918 3.43336 14.1116 3.87634C14.7715 3.79885 15.4111 3.59946 15.9999 3.3226C15.5533 4.03139 14.9949 4.66265 14.3553 5.17214Z" />
               </svg>
            </S.Button>
            <S.Button disabled>
               <svg
                  width="16"
                  height="20"
                  viewBox="0 0 16 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path d="M14.5527 11.105L15.3348 7.63021H10.4448V5.37534C10.4448 4.42471 11.1279 3.49809 13.318 3.49809H15.5411V0.539712C15.5411 0.539712 13.5237 0.304962 11.5948 0.304962C7.56773 0.304962 4.93543 1.96921 4.93543 4.98196V7.63021H0.458984V11.105H4.93543V19.505H10.4448V11.105H14.5527Z" />
               </svg>
            </S.Button>
         </main>
      </G.Modal>
   )
}

export default Medias
